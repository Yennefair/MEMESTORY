
<h1>all memestories</h1>


<%# CSS in _memecard.scss %>


<% @memes.each do |m| %>
  <div class="memecard-container">
    <div class="meme-title">
      <p><%= m.title %></p>
    </div>

    <div class="meme-image">
        <%= cl_image_tag m.photo.key %>
    </div>

    <div class="meme-votes">

      <div class="upvote-container" data-controller="voter">
          <% unless !user_signed_in?  %>
            <% if current_user.voted_for? m %>
              <p> voted</p>
            <% else %>
              <p>not voted yet </p>
            <% end %>
          <% end %>

        <i class="fas fa-angle-up"></i>
          <p data-target="voter.count"><%= m.get_upvotes.size %></p>
        </div>
      </div>

      <div class="downvote-container">
        <a href="" class="fas fa-angle-down" data-action="click->voter#refresh" ><%= m.get_downvotes.size %></a>
      </div>
    </div>
 </div>
<% end %>

<% if user_signed_in? %>
  <%= link_to "create meme", new_meme_path,class: "btn btn-primary" %>
<% else %>
  <%= link_to "Sign-in for sharing meme", user_session_path, class: "btn btn-primary" %>
<% end %>











